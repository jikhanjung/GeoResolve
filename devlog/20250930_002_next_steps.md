# 2025-09-30 Dev Log — 다음 단계(간단 메모)

## 목적
MVP 품질을 높이기 위해 해석 품질, 데이터 모델, 배포/운영의 기초를 단기간에 완성한다.

## 우선 순위 (P0)
- 후보 랭킹 API: `GET /api/v1/resolve/candidates?q=&type=&limit=`
  - 구현: Term/Synonym exact → trigram/contains → score 정규화, 상위 N 반환
  - 인덱스: Postgres trigram(GIN) 생성, 대소문자/악센트 규칙 통일
- 위계·연대 모델: Group/Formation/Member, Period/Epoch/Age + 연대범위(years)
  - 제약: 상하위 무결성, 중복/순환 방지, Admin 폼 정리
- 검증 API: `POST /api/v1/validate` (용어 목록 입력 → 경고/제안 리포트)
  - 규칙: 연대-용어 불일치, 위계 위반, 금칙/권장 목록 적용

## 후순위 (P1)
- 데이터 출처 메타: `data/*/metadata.json` 스키마, 로더에 기록(버전/체크섬/라이선스)
- CI: GitHub Actions(lint, test, build), Docker build + 이미지 스캔
- 레이트리밋: DRF throttling(익명 resolve 엔드포인트)
- Web UI: 검색 폼 + 후보 리스트, 복사 버튼, API URL 환경변수화

## 완료 정의(DOD)
- 테스트: resolver 후보/검증 규칙 유닛/통합 테스트, 커버리지 ≥ 80%
- 문서: API 스펙(Swagger 설명), 운영 노트(인덱스/마이그레이션)
- 배포: Compose로 마이그레이션+시드+워커 구동, 웹에서 상호작용 확인

## 비고/의존성
- Python 3.11 기준, DB는 Postgres 사용 시 성능/품질 보장(trigram)
- 샘플 ICS 데이터로 시작, 실제 소스는 별도 저장소/경로 협의
